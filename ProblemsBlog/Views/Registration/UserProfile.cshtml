@model ProblemsBlog.Models.UserPost
@using ProblemsBlog.Models
@{
    ViewBag.Title = "UserProfile";
}


<h2>স্বাগতম @ViewBag.User.UserName</h2> <hr>

<div class="container-fluid">

    <div class="row">
        
        <div class="col-sm-3 text-center well">
            <img src="/@ViewBag.User.Image" class="img-responsive img-thumbnail " style="display:inline" alt="User">

            <div class="well" style="color: blueviolet"><h3> @ViewBag.User.Name</h3></div>
            <h3>INFO</h3>

            <div class="well">
                <h4>Email:@ViewBag.User.Email</h4><br><hr>
                <h4>Address:@ViewBag.User.Location</h4><hr>
            </div>

        </div>
        @*---------------------------------------------first row end*@

        <div class="col-sm-7 well">
           
            <span style="text-align:center;font-size:20px ">আপনার লেখা প্রকাশ করুন </span>

            @using (Html.BeginForm("UserProfile", "Registration", FormMethod.Post, new { enctype = "multipart/form-data" }))
            {
                @Html.AntiForgeryToken()

                <div class="form-horizontal">
                    <hr />
                    @Html.ValidationSummary(true)

                        
                    <div class="form-group">
                        @Html.LabelFor(model => model.PostTitle, new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            @Html.EditorFor(model => model.PostTitle)
                            @Html.ValidationMessageFor(model => model.PostTitle)
                        </div>
                    </div>

                      
                    <div class="form-group">
                        @Html.LabelFor(model => model.PostContent, new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            @Html.EditorFor(model => model.PostContent)
                            @Html.ValidationMessageFor(model => model.PostContent)
                        </div>
                    </div>
                        
                      
                    <div class="form-group">

                        @Html.LabelFor(model => model.Image, new { @class = "control-label col-md-2" })

                        <div class="col-md-10">
                            <input type="file" name="file" />&nbsp;&nbsp;&nbsp;
                        </div>

                    </div>

                    <div class="form-group">

                        <div class="col-md-offset-2 col-md-10">
                            <input type="submit" value="Publish" class="btn btn-default" />
                        </div>

                    </div>

                </div>

            }

            @*-----------------------show all post ousers--------------------------*@
            @{ IEnumerable<UserPost> status = ViewData["AllStatus"] as IEnumerable<UserPost>; }


            <div class="container">
                @if (status != null)
                {

                    foreach (UserPost v in status)
                    {
                        <div class="row well">
                            <div class="col-sm-9">
                                <h3>@v.PostTitle</h3> <br>
                                <p><span class="glyphicon glyphicon-time"></span> প্রকাশিত হয়েছে: @v.Time </p>
                                <hr>
                                <img class="img-responsive" src="/@v.Image" /> <br>
                                <h4>লিখেছেনঃ@v.Author <br></h4>
                                @v.PostContent <br>
                                
                            </div>

                            <div class="col-sm-3"></div>
                        </div>
                            
                       

                    }
                }
            </div>

            @*--------------------------end all post here---------------------------*@

        </div>

        

        <div class="col-sm-2 text-center well">
          
            <h2>Settings</h2>
            <hr>
           
            <div class="well">@Html.ActionLink("Edit Basic Info ", "Edit", new { id = @ViewBag.User.UserId })</div>
            <hr>

            <div class="well">@Html.ActionLink("LogOut", "LogOut", "Registration")</div>

          
        </div>

    </div> 
</div>